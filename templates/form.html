<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entry Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css')}}">
</head>
<body class="bg-gray-100">

    <nav class="bg-white shadow-md p-4">
        <div class="flex justify-between items-center px-1">
            <a href="/" class="text-xl font-bold text-gray-700">AI Oncological Treatment Planner</a>
        </div>
    </nav>

    <form action="{{ url_for('diagnosis')}}" method="POST" class="space-y-4">
        <section class="flex-grow flex items-center justify-center mt-24 px-6 pb-32">
            <div class="bg-white p-12 rounded-xl shadow-lg text-center max-w-lg w-full">
                    <div id="set1">
                        <h2 class="text-3xl font-bold mb-6">Enter Patient Information</h2>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Name:</label>
                                <input type="text" name="name" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Age:</label>
                                <input type="text" name="age" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Sex:</label>
                                <input type="text" name="sex" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Patient ID:</label>
                                <input type="text" name="patient_id" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Primary Oncologist/Referring Physician:</label>
                                <input type="text" name="primary_oncologist" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Specialty of Referring Physician:</label>
                                <input type="text" name="specialty_of_physician" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Contact Information of Referring Physician:</label>
                                <input type="text" name="physician_contact_info" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Date of diagnosis:</label>
                                <input type="date" name="date_of_diag" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <button type="button" onclick="showNextSet()" class="w-full py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition">Next</button>
                    </div>

                    <div id="set2" style="display: none;">
                        <h2 class="text-3xl font-bold mb-6">Enter Clinical Information</h2>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Histological Subtype:</label>
                                <input type="text" name="histological_subtype" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Tumour Size:</label>
                                <input type="text" name="tumour_size" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Second Tumour Size (If applicable):</label>
                                <input type="text" name="second_tumour_size" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Third Tumor Size (If applicable):</label>
                                <input type="text" name="third_tumour_size" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Tumor Grade:</label>
                                <input type="text" name="tumour_grade" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Node Status:</label>
                                <input type="text" name="node_status" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Metastasis:</label>
                                <input type="text" name="metastasis" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Clinical Stage (TNM classification):</label>
                                <input type="text" name="clinical_stage" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <button type="button" onclick="showNextSet()" class="w-full py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition">Next</button>
                    </div>

                    <div id="set3" style="display: none;">
                        <h2 class="text-3xl font-bold mb-6">Enter Imaging and Diagnostic Test Information</h2>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">CT Scan Findings:</label>
                                <input type="text" name="ct_findings" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">MRI Findings:</label>
                                <input type="text" name="mri_findings" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">PET Scan Findinsg:</label>
                                <input type="text" name="pet_findings" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Ultrasound Findings:</label>
                                <input type="text" name="ultrasound_findings" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">X-ray Findings:</label>
                                <input type="text" name="xray_findings" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Mammogram Findings:</label>
                                <input type="text" name="mammogram_findings" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <button type="button" onclick="showNextSet()" class="w-full py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition">Next</button>
                    </div>

                    <div id="set4" style="display: none;">
                        <h2 class="text-3xl font-bold mb-6">Enter Clinical Information</h2>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">ER Status:</label>
                                <input type="text" name="er_status" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">PR Status:</label>
                                <input type="text" name="pr_status" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">HER2 Status:</label>
                                <input type="text" name="her2_status" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Ki-67 (%):</label>
                                <input type="text" name="ki_67" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <div id="patient-data" style="display: none;" class="mb-4 text-left">
                                <label class="block text-gray-700 font-semibold mb-1">Final Treatment Plan:</label>
                                <input type="text" name="final_treatment_plan" placeholder="Enter your answer..." class="block w-full p-2 border rounded">
                            </div>
                            <input type="hidden" name="mode" value="{{ mode }}">
                            <button type="submit" class="w-full py-3 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition">Submit</button>
                            <div id="warning-text" class="mt-4 text-gray-600 text-sm">
                                <p>Warning: This may take a minute, please wait.</p>
                            </div>
                    </div>


                </div>
            </section>
        </form>

    <footer class="bg-gray-800 text-white py-6 text-center">
        <p>Please note diagnoses provided are not for clincal use and models are for research purposes only.</p>
    </footer>

    <script>
        let current = 1; 
        const total = 5;
    
        function showNextSet() {
            if (current < total) {
                document.getElementById(`set${current}`).style.display = "none";
                current++;
                document.getElementById(`set${current}`).style.display = "block"; 
            }
        }

        function showSection() {
            if ("{{ mode }}" === "add-patient") {
                document.getElementById("patient-data").style.display = "block";
            }
            if ("{{ mode }}" === "diagnosis") {
                document.getElementById("warning-text").style.display = "block";
            }
        }
        window.onload = showSection;
    </script>

</body>
</html>
